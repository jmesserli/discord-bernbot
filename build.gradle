buildscript {
    ext {
        kotlinVersion = '1.2.21'
        springBootVersion = '1.5.10.RELEASE'
        springCloudVersion = 'Edgware.SR2'

        projectVersion = new File("$projectDir/VERSION").text

        if (System.getenv('JENKINS_URL') != null && System.getenv('BUILD_NUMBER') != null) {
            branch = System.getenv('BRANCH_NAME').replaceAll(/[^0-9A-Za-z-]+/, '-')
            branch_suffix = "-" + branch
            if (branch == 'master') {
                branch_suffix = ""
            }
            projectVersion = projectVersion + '.' + System.getenv('BUILD_NUMBER') + branch_suffix
        } else {
            projectVersion = projectVersion + '-SNAPSHOT'
        }
    }
}